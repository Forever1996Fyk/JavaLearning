## Java集合基础: 数组与链表

**数组**和**链表**是数据结构中最基础的部分, 也就是众多数据结构的基础。

### 1.数组

在Java中数组定义为一种基本类型, 它可以通过下标获取到对应位置的数据。

![array](/image/array.png)

**数组在内存中是一段连续的存储单元, 每个数据依次放在每个单元中。**根据这个特性, 可以得到数组的优势和缺陷:

- **创建一个数组, 必须要声明其长度。以在内存中寻找合适的一段连续存储单元。这也意味着数组的大小是固定的, 一旦确定了数组的大小, 就无法动态调整。**
- **想要获取数组中的第i个元素, 其时间复杂度是O(1), 因为可以根据其地址直接找到它。同理修改也是如此。(因为修改, 必须要先获取, 然后直接替换)。**
- **数组想要查找一个元素, 需要遍历, 一个个进行元素判断。所以需要比较n次, 时间复杂度为O(n)。**
- **因为数组的元素地址是连续的, 想要在数组中插入一个元素也是非常复杂的, 因为从插入位置起, 后边的所有元素都需要向后移动一位。同理删除也是, 后边的元素都要向前移动一位。并且, 当数组存满时, 就无法继续插入。**
- **因为数组要占据一整块内存, 有可能产生许多的碎片, 也可能因为找不到合适的内存块, 导致存储失败。**

### 2. 链表

链表是一种离散存储结构, 在内存中存储不是连续的, 每个数据元素都通过一个指针指向其下一个元素的地址。根据指针域的不通过, 链表又分为单链表, 双向链表, 循环链表。

![linkedlist](/image/linkedlist.png)

根据链表的结构, 我们可以知道:

- **声明链表不需要知道长度, 也不需要连续的内存块, 所以大小可以动态调整。**
- **链表的每个元素都分为数据域和指针域, 前者是实际存储的数据, 后者则指向下一个元素的地址。所以和数组相比, 每个元素需要占用更多内存。**
- **要获取链表的第i个元素, 需要从第一个元素开始进行i次操作。那么修改也是如此。因为第i个元素的地址存放在上一个元素的指针域中。**
- **链表查找元素, 也需要遍历, 所以时间复杂度为O(n)。**
- **增加或删除元素更加快速。因为没有对内存地址的限制, 我们只需要修改对应节点的指针域所指向的位置, 就可以把一个元素插入链表或者删除。**
- **链表对内存的要求很小, 只要能存储下一个数据元素的内存块即可。因此不会造成碎片化。**

### 数组与链表的选择

通过上面的分析, 数组和链表各有优缺点:

- 数组按位置查找迅速, 链表增删元素方便
- 数组固定大小, 链表可以随时扩充与缩减
- 链表每个元素占据内存多于数组
- 数组和链表在查询方面表现都一般, 耗时较长

> 当数据量较大时, 如果我们需要对数据进行频繁的插入删除, 我们应该选择链表; 如果我们需要频繁获取某个位置的元素, 我们应该选择数组。