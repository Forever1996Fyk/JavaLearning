## Redis-通信协议RESP

当我们安装完Redis, 启动Redis服务后, 都会通过ping命令来测试Redis服务是否启动成功, 如果启动成功则会响应pong, 否则启动失败。

这就是一个简单的客户端与服务端的交互。

Redis客户端与服务端是通过命令的方式来完成交互过程的, 主要分为两个部分: **网络模型, 序列化协议**。

- **网络模型**讨论的是数据交互的数据传输组织方式;

- **序列化协议**讨论的是数据如何序列化, 也是本篇文章所分析的点。

### 1. 简介

Redis的通信协议是`Redis Serialization Protocol`, 也就是Redis序列化协议, 简称RESP。

1. 在TCP层

2. 二进制格式

3. 基于请求-响应模式

4. 简单, 易懂

### 2. RESP描述

Redis协议将传输的结构数据分为5中类型, 单元结束时统一加上回车换行符号`\r\n`。

1. 单行字符串, 第一个字结尾`+`;

2. 错误消息, 第一个字节为`-`;

3. 整形数字, 第一个字节为`:`, 后跟整数的字符串;

4. 多行字符串, 第一个字节为`$`, 后跟字符串的长度;

5. 数组, 第一个字节为`*`, 后跟数组的长度

